<shared-loading-spinner *ngIf="isLoading"></shared-loading-spinner>

<div *ngIf="recipes" class="grid mt-8 flex align-items-center justify-content-center card-random">


    <div class="col-11 sm:col-12 flex align-items-center justify-content-center data-card">


        <div class="col-6 flex align-items-center justify-content-center">

            <img class="img-recipe" [src]="recipes[counter].recipe.image" alt=""
                (click)="viewRecipe(recipes[counter].recipeId)" />

            <div class="ml-2 flex flex-column align-items-center justify-content-around">

                <button mat-mini-fab [matBadge]="likesCounter" matBadgeColor="warn" matTooltip="Likes"
                    class="button-custom">
                    <mat-icon>thumb_up</mat-icon>
                </button>

                <button mat-mini-fab matBadge="{{recipes[counter].recipe.difficulty}}" matBadgeColor="warn"
                    matTooltip="Difficulty" color="primary" class="mt-3 button-custom">
                    <mat-icon>speed</mat-icon>
                </button>

            </div>

        </div>


        <div class="col-6 flex flex-column align-items-center justify-content-center">

            <div class="col-12 flex flex-column align-items-center justify-content-center">

                <h2>{{recipes[counter].recipe.name}}</h2>

                <bar-rating [(rate)]="recipes[counter].recipe['rating']" [max]="5" [readOnly]="true"
                    matTooltip="Rating">
                </bar-rating>

            </div>


            <div class="col-12 flex flex-column align-items-center justify-content-center">

                <div class="flex flex-column align-items-center justify-content-center">

                    <div class="flex align-items-center justify-content-center"
                        (click)="viewProfileCreator(this.recipes[counter].user.token)">

                        <img class="img-profile" [src]="recipes[counter].user.imgProfile">
                        <h4 class="ml-2">{{recipes[counter].user.username | titlecase }}</h4>

                    </div>

                    <button class="ml-2" mat-raised-button [matBadge]="followersCounter" matBadgeColor="warn"
                        color="primary" (click)="viewFollowers()">
                        followers
                    </button>
                </div>

            </div>

        </div>

    </div>


    <div class="col-11 sm:col-12 flex align-items-start justify-content-center info-adicional">

        <div class="col-6 flex flex-column align-items-center justify-content-center">

            <div class="col-11 flex flex-column align-items-center justify-content-center">
                <h2>Ingredients</h2>

                <p *ngFor="let item of recipes[counter].recipe.ingredients">{{item}}</p>
            </div>

        </div>


        <div class="col-6">

            <div class="col-11">

                <h2>Description</h2>

                <p>{{ recipes[counter].recipe.description }}</p>

                <h2>Steps</h2>

                <p *ngFor="let item of recipes[counter].recipe.steps">{{item}}</p>
            </div>

        </div>

    </div>


    <div class="back-button">

        <button mat-fab *ngIf="counter != 0" (click)="previousRecipe()">
            <mat-icon>west</mat-icon>
        </button>

    </div>


    <div class="forward-button">

        <button mat-fab *ngIf="counter != recipes.length - 1" (click)="nextRecipe()">
            <mat-icon>east</mat-icon>
        </button>

    </div>


</div>